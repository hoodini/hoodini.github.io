<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YUV.AI Image Prompter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: #f5f5f7;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        .title-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .logo {
            height: 50px;
            width: auto;
            animation: floatLogo 3s ease-in-out infinite;
        }

        .title {
            text-align: center;
            margin: 0;
            font-weight: 700;
            font-size: 2.5rem;
            background: linear-gradient(135deg, #2563EB, #4F46E5, #7C3AED);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientMove 8s ease infinite;
            background-size: 200% 200%;
        }

        @keyframes floatLogo {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* API Keys Section */
        .api-keys-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .api-key-input {
            flex: 1;
            position: relative;
        }

        .api-key-input label {
            display: block;
            margin-bottom: 0.5rem;
            color: #666;
            font-size: 0.9rem;
        }

        .api-key-input input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid rgba(0, 122, 255, 0.3);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .api-key-input input:focus {
            outline: none;
            border-color: #007AFF;
            box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2);
        }

        .toggle-visibility {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            opacity: 0.6;
            transition: opacity 0.3s ease;
        }

        /* Upload Area */
        .upload-area {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 2px dashed rgba(0, 122, 255, 0.3);
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }

        .upload-area:hover {
            border-color: #007AFF;
            background: rgba(255, 255, 255, 0.95);
        }

        .preview-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 15px;
            display: none;
            margin: 1rem auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        /* Analyze Button */
        .analyze-btn {
            background: linear-gradient(135deg, #007AFF, #00C7FF);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 2rem 0;
            display: none;
            align-items: center;
            gap: 0.8rem;
            box-shadow: 0 10px 20px rgba(0, 122, 255, 0.2);
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(0, 122, 255, 0.3);
        }

        .analyze-btn.analyzing {
            background: linear-gradient(-45deg, #007AFF, #00C7FF, #007AFF);
            background-size: 200% 200%;
            animation: gradient 1.5s ease infinite;
            pointer-events: none;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Loading Animation */
        .loading-container {
            text-align: center;
            margin: 2rem 0;
            display: none;
        }

        .loading-orb {
            width: 60px;
            height: 60px;
            margin: 0 auto 1rem;
            background: linear-gradient(45deg, #007AFF, #00C7FF);
            border-radius: 50%;
            animation: pulse 1.5s ease-in-out infinite;
            box-shadow: 0 0 30px rgba(0, 122, 255, 0.3);
        }

        /* Results Section */
        .result-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: none;
        }

        .section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-content {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
            position: relative;
            font-size: 1rem;
            line-height: 1.8;
            color: #444;
        }

        .copy-btn {
            background: linear-gradient(135deg, #007AFF, #00C7FF);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: sticky;
            top: 1rem;
            float: right;
            margin-left: 1rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            opacity: 0.8;
            z-index: 100;
        }

        .copy-btn:hover {
            opacity: 1;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 122, 255, 0.2);
        }

        .copy-btn.copied {
            background: linear-gradient(135deg, #34C759, #30D158);
        }

        .copy-btn span {
            font-size: 1.1rem;
        }

        .copy-btn.copied::after {
            content: 'âœ“';
            position: absolute;
            right: 10px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Background Animation */
        .background-orbs {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 0;
        }

        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(30px);
            opacity: 0.3;
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translate(0, 0); }
            50% { transform: translate(30px, -30px); }
            100% { transform: translate(0, 0); }
        }

        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.5; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.5; }
        }

        .chat-section {
            margin-top: 2rem;
        }

        .chat-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
        }

        .chat-messages {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .chat-message {
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 10px;
            position: relative;
        }

        .user-message {
            background: rgba(0, 122, 255, 0.1);
            margin-left: 2rem;
        }

        .assistant-message {
            background: rgba(255, 255, 255, 0.9);
            margin-right: 2rem;
            padding-right: 3rem;
        }

        .chat-copy-btn {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #007AFF, #00C7FF);
            color: white;
            border: none;
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .assistant-message:hover .chat-copy-btn {
            opacity: 0.8;
        }

        .chat-copy-btn:hover {
            opacity: 1 !important;
            transform: translateY(-50%) scale(1.05);
        }

        .chat-copy-btn.copied {
            background: linear-gradient(135deg, #34C759, #30D158);
        }

        .chat-input-wrapper {
            display: flex;
            gap: 1rem;
        }

        #chatInput {
            flex: 1;
            padding: 1rem;
            border: 1px solid rgba(0,122,255,0.3);
            border-radius: 8px;
            resize: vertical;
        }

        .chat-send-btn {
            padding: 0 2rem;
            background: linear-gradient(135deg, #007AFF, #00C7FF);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .prompts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .prompt-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 1.5rem;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            height: auto !important;
            min-height: 200px;
            margin-bottom: 2rem;
        }

        .prompt-card::-webkit-scrollbar {
            width: 8px;
        }

        .prompt-card::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }

        .prompt-card::-webkit-scrollbar-thumb {
            background: rgba(0, 122, 255, 0.3);
            border-radius: 10px;
        }

        .prompt-card::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 122, 255, 0.5);
        }

        .prompt-card .copy-btn {
            position: sticky;
            top: 0;
            z-index: 100;
            margin-bottom: 1rem;
            background: rgba(0, 122, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .prompt-card .prompt-content {
            margin-top: 3rem;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .prompt-card h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.2rem;
            background: linear-gradient(135deg, #2563EB, #4F46E5);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .prompts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
            align-items: start;
        }

        .chat-container {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .chat-messages {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .chat-input-container {
            display: flex;
            gap: 1rem;
        }

        .analyzing-text span {
            display: inline-block;
            animation: bounce 0.3s ease infinite;
            animation-delay: calc(.1s * var(--i));
        }

        .analyzing-text span:nth-child(1) { --i: 1; }
        .analyzing-text span:nth-child(2) { --i: 2; }
        .analyzing-text span:nth-child(3) { --i: 3; }
        .analyzing-text span:nth-child(4) { --i: 4; }
        .analyzing-text span:nth-child(5) { --i: 5; }
        .analyzing-text span:nth-child(6) { --i: 6; }
        .analyzing-text span:nth-child(7) { --i: 7; }
        .analyzing-text span:nth-child(8) { --i: 8; }
        .analyzing-text span:nth-child(9) { --i: 9; }
        .analyzing-text span:nth-child(10) { --i: 10; }
        .analyzing-text span:nth-child(11) { --i: 11; }
        .analyzing-text span:nth-child(12) { --i: 12; }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .section-content > div {
            margin-top: 3rem;
        }

        .typing-indicator {
            background: rgba(255, 255, 255, 0.9);
            margin-right: 2rem;
            padding: 1rem;
            border-radius: 10px;
            display: none;
        }

        .typing-animation {
            display: inline-flex;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #007AFF;
            border-radius: 50%;
            animation: typingBounce 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-4px); }
        }

        .message-sending {
            opacity: 0.5;
            transform: scale(0.98);
            transition: all 0.3s ease;
        }

        /* ×¡×’× ×•× ×•×ª ×œ×˜×™×™××¨ */
        .timer-container {
            position: relative;
            margin: 2rem auto;
            width: fit-content;
            z-index: 1;
            text-align: center;
            display: none;
        }

        .timer-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #007AFF 0%, transparent 0%);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .timer-circle::before {
            content: '';
            position: absolute;
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
        }

        .timer-text {
            position: relative;
            z-index: 1;
            font-size: 1.5rem;
            font-weight: bold;
            color: #007AFF;
        }

        .timer-label {
            color: #666;
            font-size: 1rem;
            margin-top: 0.5rem;
        }

        .prompt-content p,
        .prompt-content h3,
        .prompt-content ul,
        .prompt-content li {
            margin-bottom: 1rem;
            white-space: pre-wrap;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }

        .prompt-content {
            flex: 1;
            overflow-y: visible !important;
            padding-right: 1rem;
            margin-bottom: 1rem;
            white-space: pre-wrap !important;
            word-wrap: break-word;
            overflow-wrap: break-word;
            line-height: 1.6;
            height: auto !important;
            max-height: none !important;
        }

        .copy-btn {
            position: sticky;
            bottom: 0;
            align-self: flex-end;
            margin-top: auto;
            z-index: 2;
        }

        /* ×¢×™×¦×•×‘ ×¤×¡ ×”×’×œ×™×œ×” */
        .prompt-content::-webkit-scrollbar {
            width: 6px;
        }

        .prompt-content::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }

        .prompt-content::-webkit-scrollbar-thumb {
            background: rgba(0, 122, 255, 0.3);
            border-radius: 10px;
        }

        .prompt-content::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 122, 255, 0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title-container">
            <img src="yuvailogo.png" alt="YUV.AI Logo" class="logo">
            <h1 class="title">YUV.AI Image Prompter</h1>
        </div>
        
        <div class="api-keys-container">
            <div class="api-key-input">
                <label for="visionKey">Vision Model API Key</label>
                <input type="password" id="visionKey" placeholder="Enter Vision API Key">
                <button class="toggle-visibility" onclick="toggleVisibility('visionKey')">ğŸ‘ï¸</button>
            </div>
            <div class="api-key-input">
                <label for="llmKey">LLM Model API Key</label>
                <input type="password" id="llmKey" placeholder="Enter LLM API Key">
                <button class="toggle-visibility" onclick="toggleVisibility('llmKey')">ğŸ‘ï¸</button>
            </div>
        </div>

        <div class="upload-area" id="dropZone">
            <p>Drop your image here or click to upload</p>
            <input type="file" id="fileInput" accept="image/*" style="display: none;">
        </div>

        <img id="preview" class="preview-image">
        
        <button id="analyzeBtn" class="analyze-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
            Analyze Image
        </button>

        <div class="background-orbs">
            <div class="orb" style="background: #007AFF; width: 300px; height: 300px; top: 10%; left: 10%;"></div>
            <div class="orb" style="background: #00C7FF; width: 200px; height: 200px; bottom: 20%; right: 20%;"></div>
        </div>

        <div id="loading" class="loading-container">
            <div class="loading-orb"></div>
            <div class="loading-text">Processing your image...</div>
        </div>

        <div id="result" class="result-container">
            <div class="section">
                <h2 class="section-title">
                    <span>ğŸ“¸</span> Vision Description
                </h2>
                <div class="section-content">
                    <button class="copy-btn" onclick="copyToClipboard('visionOutput')">
                        <span>ğŸ“‹</span> Copy
                    </button>
                    <div id="visionOutput"></div>
                </div>
            </div>

            <div class="prompts-section">
                <h2 class="section-title">
                    <span>âœ¨</span> Generated Prompts
                </h2>
                <div class="prompts-grid">
                    <div class="prompt-card">
                        <h3>Cinematic Style</h3>
                        <div id="promptOutput1" class="prompt-content"></div>
                        <button class="copy-btn" onclick="copyToClipboard('promptOutput1')">Copy</button>
                    </div>
                    <div class="prompt-card">
                        <h3>Dramatic Style</h3>
                        <div id="promptOutput2" class="prompt-content"></div>
                        <button class="copy-btn" onclick="copyToClipboard('promptOutput2')">Copy</button>
                    </div>
                    <div class="prompt-card">
                        <h3>Artistic Style</h3>
                        <div id="promptOutput3" class="prompt-content"></div>
                        <button class="copy-btn" onclick="copyToClipboard('promptOutput3')">Copy</button>
                    </div>
                </div>
            </div>

            <div class="chat-section">
                <h2 class="section-title">
                    <span>ğŸ’¬</span> Refine Prompts
                </h2>
                <div class="chat-container">
                    <div id="chatMessages" class="chat-messages"></div>
                    <div id="typingIndicator" class="typing-indicator" style="display: none;">
                        <div class="typing-animation">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <textarea id="chatInput" placeholder="Ask for prompt variations..."></textarea>
                        <button onclick="sendChatMessage()" class="chat-send-btn">Send</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="timer-container" id="timerContainer">
            <div class="timer-circle">
                <div class="timer-text">0%</div>
            </div>
            <div class="timer-label">Analyzing Image...</div>
        </div>
    </div>

    <script>
        // DOM Elements
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const preview = document.getElementById('preview');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const loading = document.getElementById('loading');
        const result = document.getElementById('result');
        const visionOutput = document.getElementById('visionOutput');
        const promptOutput = document.getElementById('promptOutput');

        // Load saved API keys
        document.getElementById('visionKey').value = localStorage.getItem('visionKey') || '';
        document.getElementById('llmKey').value = localStorage.getItem('llmKey') || '';

        // Save API keys on change
        ['visionKey', 'llmKey'].forEach(id => {
            document.getElementById(id).addEventListener('change', (e) => {
                localStorage.setItem(id, e.target.value);
            });
        });

        // Toggle API key visibility
        function toggleVisibility(inputId) {
            const input = document.getElementById(inputId);
            input.type = input.type === 'password' ? 'text' : 'password';
        }

        // File Upload Handlers
        dropZone.addEventListener('click', () => fileInput.click());
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.style.borderColor = '#007AFF';
        });
        dropZone.addEventListener('dragleave', () => {
            dropZone.style.borderColor = 'rgba(0, 122, 255, 0.3)';
        });
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.style.borderColor = 'rgba(0, 122, 255, 0.3)';
            handleFile(e.dataTransfer.files[0]);
        });
        fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));

        function handleFile(file) {
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    analyzeBtn.style.display = 'flex';
                };
                reader.readAsDataURL(file);
            }
        }

        // Vision Analysis Prompt
        const VISION_PROMPT = `Analyze this image with professional photography and cinematography expertise:

1. ğŸ“· Technical Analysis
   â€¢ Camera angle and position
   â€¢ Framing techniques used
   â€¢ Depth of field characteristics
   â€¢ Focal length indicators

2. ğŸ’¡ Lighting Study
   â€¢ Main light sources and types
   â€¢ Lighting pattern (Rembrandt, Loop, etc.)
   â€¢ Shadow characteristics
   â€¢ Color temperature analysis

3. ğŸ¨ Visual Elements
   â€¢ Color palette and harmony
   â€¢ Composition techniques
   â€¢ Texture and patterns
   â€¢ Mood and atmosphere

4. ğŸ¬ Cinematic Elements
   â€¢ Movement and dynamics
   â€¢ Visual storytelling elements
   â€¢ Post-processing indicators
   â€¢ Special effects or treatments

       In addition, here are few examples of such successful prompts - this is how i want the prompt to look like:

    1. REALISTIC IMAGE long shot of a forest scene featuring a unique hybrid creature, blending the head of a majestic deer with the powerful body of a tiger, entirely covered in iridescent scales. The creatureâ€™s antlers stretch elegantly, shimmering with intricate, reflective scales that display a captivating array of holographic colors like purple, blue, and hints of bright green, now contrasted against a darker, more foreboding background. Its body, resembling a tigerâ€™s muscular form, moves stealthily through the forest, blending the majesty of the deer with the predatory grace of a tiger. The atmosphere is tense and dark, with a dark blue fog in the background, shadows playing across the scene and giving the environment a haunting, surreal quality.

    2. A mystical forest scene features a unique hybrid creature, blending the head of a majestic deer with the powerful body of a tiger, entirely covered in shimmering, iridescent scales and soft, pastel fur. The creatureâ€™s antlers stretch elegantly, glowing with a soft pink hue, adding a magical touch to its presence. The scales and fur reflect an array of pastel colors, including light blue, lavender, and soft pink, creating a mesmerizing, dreamlike effect. The forest is bathed in ethereal light, with tall, shadowy trees and lush, delicate vegetation that includes coral-like structures and soft moss, enhancing the surreal atmosphere. Gentle bokeh effects float through the air, adding a sense of enchantment and tranquility. The overall composition captures a perfect blend of nature and fantasy, presenting the creature as a mythical guardian of this serene, spectral forest.

    3. A mystical forest scene features a unique hybrid creature, blending the head of a tiger with the muscular body of a tiger. The creature is covered in iridescent scales that shimmer in pastel colors, reflecting light blues, purples, and subtle hints of pink, creating a mesmerizing and ethereal effect. The forest is bathed in soft, magical light, with tall, shadowy trees and lush vegetation that includes coral-like structures and delicate moss, enhancing the surreal and dreamlike atmosphere. Gentle bokeh effects float through the air, adding a touch of enchantment and tranquility to the scene. The overall composition captures a harmonious blend of nature and fantasy, presenting this hybrid as a mythical guardian of the serene, spectral forest.

    4. An immersive atmospheric shot in a fantasy universe, featuring Lady Gaga with long blonde hair, wearing a dazzling, futuristic outfit composed of a sparkling, metallic bodysuit with shorts made of silver and holographic materials that shimmer under the street lights. On the belt of the suit, a logo "AI.GOS" is embroidered in purple. The bodysuit features sharp, structured shoulders that add a bold, dramatic flair, with long, tightly-fitted sleeves emphasizing her figure. The material is intricately adorned with sequins or mirrored embellishments, creating a kaleidoscopic effect of colors like blue, purple, and silver. The bodysuit is cinched at the waist with a matching belt, beautifully embroidered in deep purple, standing out just enough to catch the light and add a unique branding element without detracting from the overall shimmer and holographic effect of the outfit, enhancing her silhouette. The bottom part is styled as high-waisted shorts, leaving her legs exposed. She wears fishnet stockings that add an edgy touch to the glamorous ensemble. Her knee-high boots perfectly match the bodysuit, crafted from the same reflective, holographic fabric. The boots are pointed, with high heels, and reach just below her knees, completing the cohesive, eye-catching look. They have a sleek, fitted design with a slight slouch at the top, and the mirrored material continues to reflect the street lights, amplifying the outfitâ€™s dazzling effect. Adding a personalized touch, the side of the bodysuit subtly enhances the futuristic design. The entire ensemble exudes a bold, futuristic vibe, combining elements of glamour, performance, and avant-garde fashion, making the performer stand out vividly against the stage backdrop.

        here are examples of Camera Angles and Definitions

    Framing Whatâ€™s included and excluded in an individual shot.
    Extreme wide shot
    A shot in which figures appear small in the
    landscape. Often used at the beginning of a
    film or sequence as an â€˜establishing shotâ€™ to
    show where the action is taking place. Can
    also be used to make a person appear
    isolated or small.

    Wide Shot
    A shot in which a figure can be seen from
    head to toe. (tighter than an extreme wide
    shot)
    Mid Shot
    Shows the figure from approximately head to
    waist. In a mid shot, you can easily recognize
    an individual but you can also see what they
    are doing with their hands.
    Close-up
    Head and shoulders, enabling you to easily
    see facial expressions, which gives the
    audience a better impression of what your
    characters are thinking and feeling.
    Extreme close-up
    From just above the eyebrows to just below
    the mouth, or even closer: used to emphasize
    facial expression or to make the subject
    appear threatening.

    Over-the-Shoulder Shot
    A shot in which we see a character or main
    object over anotherâ€™s shoulder, often used in
    interviews or dialogues.
    Depth of field - This refers to how much of
    the shot seems to be in focus, in front of and
    behind the subject.
    Two Shot
    Any shot with two people in it.

    Here are lighting styles and definitions:

    Ambient Lighting
    Light that is present in a scene. This could be sunshine or an artificial light source such as a bulb. Flash lighting is not ambient, as it refers to pre-existing lighting not added by the photographer.

    

    Artificial Lighting
    Artificial lighting is a source of light that is anything apart from the sun â€“ an natural source of light. This could include a household bulb or a flash.

    

    Broad Light
    A style of lighting that only illuminates the closest side of a face in a portrait. The word broad refers to the largest portion of the face that is visible to the camera. The opposite side to broad is narrow lighting.

    

    Back Light / Silhouetting
    When a light is placed behind a subject to only illuminates the outline creating a silhouette. Little detail is visible on the near side of the subject with backlighting.

    

    Butterfly Lighting
    A light placed above the camera and angled towards the subject. The lighting creates a slight shadow underneath the nose of the subject in the loose shape of a butterfly. It is a very flattering form of light championed by the Hollywood actress Marlene Dietrich which is why you may also hear it called â€˜Dietrich Lightingâ€™.

    Continuous Lighting
    A light that doesnâ€™t flash, it continuously illuminates the subject until it is turned off or blocked out. A common household bulb or the sun is an example of continuous light.

    

    Colour Temperature
    All lights emit at different temperatures which affects the colour of that light. This temperature scale is referred to as the Kelvin scale (K). Household bulbs and candles emit around 2500K producing warm, orange lighting.

    Bright blue skies are much cooler and emit bluer tones around 9000K. Daylight balanced lighting is approximately 5500K which casts neither warm or cool tones, it appears closer to a white light.

    

    Catchlights
    A small reflection of a light source seen in the eye of a subject in a portrait. Catchlights are important to give shape, increase colour and make your subject look more energised.

    

    Clamshell Lighting
    The use of two matching light sources; one placed above the camera, the other below, both angled towards a subject. This â€˜clamshellâ€™ shape beautifies the face of the subject and the camera fits in between the gap of the lights.

    

    CTO / CTB
    Colour temperature orange (CTO) and colour temperature blue (CTB) are lighting gels that are used to counteract the colour temperature of certain lights. For lights that shine with warm colours a CTB gel is placed over the top to return it to a natural white tone.

    

    Deep Dish
    A common lighting modifier that fits over a strobe head in a photography studio. Normally silver-coated on the inside to bounce the light towards a subject. They can be deep or shallow depending upon the effect you require.

    

    Diffused Light
    Light that passes through a material to soften the strength and spread the light wider. Clouds are an example for diffusing sunshine.

    

    Drop Shadow
    The resulting shadow appears on the floor or a surface from using a hard light source.

    F-H
    Flash / Strobe Lighting
    A flash can either be built in/pop up in many digital cameras but is also available as a separate unit to use remotely. It is an electronically operated flash with adjustable power settings.

    

    Fill Light
    A light that is used to â€˜fill inâ€™ areas of shadow that is created by the main/key light. A reflector is sometimes used as â€˜fill lightâ€™.

    

    Flat
    Large black boards that stop the spread/spill of light back on to a subject. It is an accessory used to introduce negative fill.

    

    Gobo
    A shaped disc or sheet that is placed in front of a light to cast a patterned light/shadow. Used primarily in theatres for creating the effect of light passing through Venetian blinds for example.

    

    Guide Number
    The power of a digital flash unit dictates how far the light can reach. The higher the guide number (GN) the further the light can reach. All flashes have a manufacturer GN but this can be increased with higher ISO settings.

    

    Grids
    A type of modifier that attaches to the front of a softbox to help focus the diffused light onto a subject.

    

    Hard Light
    Light sources that demonstrate a short transition from light to shadow are referred to as â€˜hardâ€™. The sun in a cloudless sky will produce heavy shadows like this.

    

    High Key Lighting
    A lighting style that focuses on large amount of light with very few shadows. This is the opposite to low key lighting.

    I-L
    Inverse Square Law
    A study that demonstrates the connection between the brightness and distance of a light source. Intensity or brightness will decrease at an inverse proportion to the square of a distance. Simply put, light drops off evenly over a given distance.

    

    Key / Main Light
    The primary light source that is being used in your photograph. This could be the sun, a flash or another light source. It is the one that is doing the most work to illuminate the subject.

    

    Loop Lighting
    A portrait lighting style is represented by a narrow gap of light along the cheek of a subject.

    

    Light Trails
    When a moving light passes through a shot using a slow shutter speed a trail of this motion can be left visible. Think of cars driving along a road a night and the red/white streaks of its tail/head lights streak across the shot.

    

    Lighting Gels
    A piece of semi-transparent plastic that colours the light source. The are available in a variety of colours and intensities.

    

    Low Key Lighting
    Photos are largely dark/shadow with very few highlights. Only one narrow light is used to illuminated so it doesnâ€™t spill onto the background. Think of film noir movies and dark movie posters.

    

    Lighting Ratio
    This is the exposure ratio between shadow and highlight. Having a high lighting ratio means youâ€™ll see a lot of contrast in your shot; while a low one means little/no contrast.

    Penumbra
    The area between shadow and highlight. A large penumbra means smooth gradient, a small one means hard light and no gradient.

    

    Qualities of Light
    There are 6 qualities of light to pay attention to as a photographer; Angle, Direction, Quantity, Distance, Colour and Size. Controlling these factors as a photographer will determine the look of your overall image.

    

    Rembrandt Lighting
    Named after the famous painter, a style of portrait lighting that is epitomised by an inverted triangle of light on the narrow side cheek of a subject.

    

    Reflector
    A surface that reflects/control the direction of a light source. Photography reflectors come in white (for neutral tone reflection), silver and gold.

    

    Ring Flash
    A modified flash unit that attached to either the cameraâ€™s hot shoe or infront of your lens. Ring flash is use in macro photography to get light a subject without shadow or in a portrait leaving a donut shaped reflection in the eye.

    Split Lighting
    When light is only illuminating half of the subject there is a clear â€˜splitâ€™ between light and shadow with a proportional balance. Split lighting can be achieved by positioning a light at the side of a subject.

    

    Soft Light
    Light that passes through a diffusing material to soften and spread the emitting light. Light from the sun that has passed through the clouds on an overcast day is soft light.

    

    Snoots
    A narrow conical-shaped lighting modifier that creates a narrow spotlight effect. Think of the iconic James Bond gun barrel point-of-view shot, this is similar to the effect of a snoot.

    

    Softbox
    A lighting modifier that softens the light from a flash or other continuous sources. It encompasses the light so there is no spill and all the available light is used.

    

    Spill
    The angle at which light spreads over an area. The angle can be narrowed by using modifiers such as barn doors to direct the path of the light.

    

    Types of Light
    There are 3 qualities of light that you will encounter â€“ hard, soft and reflected.

    

    Umbrellas
    A classic example of a lighting modifier that can either be used to bounce light back into a scene or to be shot-through facing the subject.

    Now please provide the prompt that combines the image description and details on the camera angles and lightining.
    
Provide a comprehensive analysis that could serve as a blueprint for recreation.`;

        // Analyze Button Handler
        analyzeBtn.addEventListener('click', async () => {
            analyzeBtn.classList.add('analyzing');
            analyzeBtn.innerHTML = `
                <div class="analyzing-text">
                    <span>A</span><span>n</span><span>a</span><span>l</span><span>y</span><span>z</span><span>i</span><span>n</span><span>g</span><span>.</span><span>.</span><span>.</span>
                </div>`;
            
            // ×§×¨×™××” ×œ×¤×•× ×§×¦×™×™×ª ×”× ×™×ª×•×—
            await analyzeImage();
        });

        async function generatePrompt(description, llmKey, style) {
            const response = await fetch('https://api.cohere.ai/v1/generate', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${llmKey}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    model: 'command',
                    prompt: `Based on this image description: "${description}"

Create a detailed and comprehensive ${style} prompt. 
Your response MUST include ALL of the following sections:
1. Scene Description
2. Technical Details (camera settings, angles, lighting)
3. Visual Elements (composition, colors, textures)
4. Mood and Atmosphere

IMPORTANT: 
- Your response must be complete and detailed
- Each section must contain at least 3-4 sentences
- Do not leave any section empty
- If you're unsure about any detail, provide a creative interpretation
- Total response should be at least 200 words

Format your response with clear section headers and proper spacing.`,
                    max_tokens: 500,
                    temperature: 0.8,
                })
            });

            if (!response.ok) throw new Error('Cohere API Error');
            const data = await response.json();
            const generatedText = data.generations[0].text;
            
            // ×‘×“×™×§×” ×©×”×ª×©×•×‘×” ×œ× ×¨×™×§×”
            if (!generatedText || generatedText.trim().length < 100) {
                throw new Error('Generated prompt is too short or empty');
            }
            
            return generatedText;
        }

        // Utility Functions
        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).innerText;
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.currentTarget;
                btn.classList.add('copied');
                const originalText = btn.innerHTML;
                btn.innerHTML = 'Copied âœ“';
                
                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.innerHTML = originalText;
                }, 2000);
            });
        }

        function formatOutput(text) {
            return text.split('\n').map(line => {
                line = line.trim();
                if (line.startsWith('#')) {
                    return `<h3>${line.substring(1)}</h3>`;
                } else if (line.startsWith('*') || line.startsWith('â€¢')) {
                    return `<li>${line.substring(1)}</li>`;
                } else if (line.length > 0) {
                    return `<p>${line}</p>`;
                }
                return '';
            }).join('');
        }

        // ×”×•×¡×¤×ª ×¤×•× ×§×¦×™×™×ª ×©×œ×™×—×ª ×”×•×“×¢×”
        async function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            const visionKey = document.getElementById('visionKey').value;
            const typingIndicator = document.getElementById('typingIndicator');
            
            if (!message) return;
            
            // ×”×•×¡×¤×ª ×”×•×“×¢×ª ×”××©×ª××©
            addMessageToChat(message, 'user');
            input.value = '';
            
            // ×”×¦×’×ª ××™× ×“×™×§×˜×•×¨ ×”ï¿½ï¿½×§×œ×“×”
            typingIndicator.style.display = 'block';
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro:generateContent?key=${visionKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [
                                {
                                    inline_data: {
                                        mime_type: "image/jpeg",
                                        data: preview.src.split(',')[1]
                                    }
                                },
                                { 
                                    text: `Based on this image and its analysis:
                                    Current vision analysis: ${visionOutput.innerText}
                                    
                                    Current prompts:
                                    1. ${document.getElementById('promptOutput1').innerText}
                                    2. ${document.getElementById('promptOutput2').innerText}
                                    3. ${document.getElementById('promptOutput3').innerText}
                                    
                                    User request: ${message}
                                    
                                    Generate a new, detailed prompt that incorporates the user's request while maintaining professional photography and cinematography terminology.`
                                }
                            ]
                        }]
                    })
                });

                if (!response.ok) throw new Error('Failed to get response');
                
                const data = await response.json();
                const reply = data.candidates[0].content.parts[0].text;
                
                // ×”×¡×ª×¨×ª ××™× ×“×™×§×˜×•×¨ ×”×”×§×œ×“×” ×•×”×•×¡×¤×ª ×”×ª×©×•×‘×”
                typingIndicator.style.display = 'none';
                addMessageToChat(reply, 'assistant');
                
            } catch (error) {
                console.error('Error:', error);
                typingIndicator.style.display = 'none';
                addMessageToChat('Sorry, I encountered an error. Please try again.', 'assistant');
            }
        }

        function addMessageToChat(message, type) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${type}-message`;
            messageDiv.textContent = message;
            
            // ×”×•×¡×¤×ª ×›×¤×ª×•×¨ ×”×¢×ª×§×” ×œ×”×•×“×¢×•×ª ××”××¡×™×¡×˜× ×˜
            if (type === 'assistant') {
                const copyBtn = document.createElement('button');
                copyBtn.className = 'chat-copy-btn';
                copyBtn.innerHTML = 'ğŸ“‹';
                copyBtn.onclick = () => {
                    navigator.clipboard.writeText(message).then(() => {
                        copyBtn.classList.add('copied');
                        setTimeout(() => copyBtn.classList.remove('copied'), 2000);
                    });
                };
                messageDiv.appendChild(copyBtn);
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // ×¢×“×›×•×Ÿ ×¤×•× ×§×¦×™×™×ª ×”×¦×’×ª ×”×ª×•×¦××•×ª
        function displayResults(description, prompt) {
            result.style.display = 'block';
            visionOutput.innerHTML = formatOutput(description);
            promptOutput.innerHTML = formatOutput(prompt);
            
            // ×”×•×¡×¤×ª ×§×•××¤×•× × ×˜×ª ×”×¦'××˜
            if (!document.querySelector('.chat-section')) {
                result.insertAdjacentHTML('beforeend', chatSection);
            }
        }

        // ×¢×“×›×•×Ÿ ×”-HTML ×©×œ ××–×•×¨ ×”×ª×•×¦××•×ª
        const resultSection = `
        <div class="prompts-container">
            <div class="prompt-card" data-aos="fade-up" data-aos-delay="100">
                <h3>Variation 1</h3>
                <div class="section-content">
                    <button class="copy-btn" onclick="copyToClipboard('promptOutput1')">
                        <span>ğŸ“‹</span> Copy
                    </button>
                    <div id="promptOutput1"></div>
                </div>
            </div>
            <div class="prompt-card" data-aos="fade-up" data-aos-delay="200">
                <h3>Variation 2</h3>
                <div class="section-content">
                    <button class="copy-btn" onclick="copyToClipboard('promptOutput2')">
                        <span>ğŸ“‹</span> Copy
                    </button>
                    <div id="promptOutput2"></div>
                </div>
            </div>
            <div class="prompt-card" data-aos="fade-up" data-aos-delay="300">
                <h3>Variation 3</h3>
                <div class="section-content">
                    <button class="copy-btn" onclick="copyToClipboard('promptOutput3')">
                        <span>ğŸ“‹</span> Copy
                    </button>
                    <div id="promptOutput3"></div>
                </div>
            </div>
        </div>`;

        // ×¤×•× ×§×¦×™×™×ª ×œ×¢×“×›×•×Ÿ ×”×˜×™×™××¨
        function updateTimer(progress) {
            const timerCircle = document.querySelector('.timer-circle');
            const timerText = document.querySelector('.timer-text');
            
            timerCircle.style.background = `conic-gradient(from 0deg, #007AFF ${progress}%, transparent ${progress}%)`;
            timerText.textContent = `${Math.round(progress)}%`;
        }

        // ×¢×“×›×•×Ÿ ×¤×•× ×§×¦×™×™×ª ×”× ×™×ª×•×—
        async function analyzeImage() {
            const timerContainer = document.getElementById('timerContainer');
            timerContainer.style.display = 'block';
            let progress = 0;
            let isAnalyzing = true;
            
            const timerInterval = setInterval(() => {
                if (isAnalyzing && progress < 90) {
                    progress += 0.5;
                    updateTimer(progress);
                }
            }, 50);
            
            try {
                const imageBase64 = preview.src.split(',')[1];
                const visionKey = document.getElementById('visionKey').value;
                const llmKey = document.getElementById('llmKey').value;

                // ×§×‘×œ×ª ×”× ×™×ª×•×— ×”×¨××©×•× ×™
                const description = await getVisionAnalysis(imageBase64, visionKey);
                progress = 95;
                updateTimer(progress);
                
                // ×™×¦×™×¨×ª ×”×¤×¨×•××¤×˜×™×
                const prompts = await Promise.all([
                    generatePrompt(description, llmKey, "Create a cinematic prompt"),
                    generatePrompt(description, llmKey, "Create a dramatic prompt"),
                    generatePrompt(description, llmKey, "Create an artistic prompt")
                ]);
                
                // ×”×¦×’×ª ×”×ª×•×¦××•×ª
                document.getElementById('promptOutput1').innerHTML = formatOutput(prompts[0]);
                document.getElementById('promptOutput2').innerHTML = formatOutput(prompts[1]);
                document.getElementById('promptOutput3').innerHTML = formatOutput(prompts[2]);
                visionOutput.innerHTML = formatOutput(description);
                
                progress = 100;
                updateTimer(progress);
                result.style.display = 'block';
                
            } catch (error) {
                console.error('Error:', error);
                alert('Error: ' + error.message);
            } finally {
                isAnalyzing = false;
                setTimeout(() => {
                    clearInterval(timerInterval);
                    timerContainer.style.display = 'none';
                }, 500);
            }
        }

        // ×¤×•× ×§×¦×™×™×ª ×¢×–×¨ ×œ×§×‘×œ×ª × ×™×ª×•×— ×-Gemini
        async function getGeminiAnalysis(imageBase64, visionKey) {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro:generateContent?key=${visionKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [
                            { inline_data: { mime_type: "image/jpeg", data: imageBase64 } },
                            { text: VISION_PROMPT }
                        ]
                    }]
                })
            });

            if (!response.ok) throw new Error('Gemini API Error');
            return response.json();
        }

        // ×¤×•× ×§×¦×™×™×ª ×¢×–×¨ ×œ×§×‘×œ×ª ×•×¨×™××¦×™×™×ª ×¤×¨×•××¤×˜
        async function getPromptVariation(description, llmKey, style) {
            const response = await fetch('https://api.cohere.ai/v1/generate', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${llmKey}`,
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    model: 'command',
                    prompt: `${style} based on this description: ${description}`,
                    max_tokens: 300,
                    temperature: 0.8,
                })
            });

            if (!response.ok) throw new Error('Cohere API Error');
            const data = await response.json();
            return data.generations[0].text;
        }

        // ×¤×•× ×§×¦×™×™×ª ×”× ×™×ª×•×— ×”×¨××©×™×ª
        async function getVisionAnalysis(imageBase64, visionKey) {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro:generateContent?key=${visionKey}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [
                            // ×©×™× ×œ×‘: ×œ×¤×™ ×”×ª×™×¢×•×“, ×¢×“×™×£ ×œ×©×™× ××ª ×”×ª××•× ×” ×œ×¤× ×™ ×”×˜×§×¡×˜
                            {
                                inline_data: {
                                    mime_type: "image/jpeg",
                                    data: imageBase64
                                }
                            },
                            { text: VISION_PROMPT }
                        ]
                    }]
                })
            });

            if (!response.ok) throw new Error('Vision API Error');
            const data = await response.json();
            return data.candidates[0].content.parts[0].text;
        }

        // ×”×•×¡×¤×ª ×××–×™×Ÿ ×œ××™×¨×•×¢ keypress ×‘×©×“×” ×”×§×œ×˜
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendChatMessage();
            }
        });
    </script>
</body>
</html>
